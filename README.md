# Система Обліку та Управління Складом

## Опис проекту

Система Обліку та Управління Складом - це сучасна веб-система для керування матеріальними засобами організації. Система розроблена як SPA (Single Page Application) на React з використанням сучасних технологій і архітектурних підходів.

### Технологічний стек
- **Frontend**: React 18, Material-UI (MUI), React Router DOM
- **Backend**: Firebase (Firestore Database, Authentication)
- **Стилізація**: Emotion, Material-UI Components
- **Експорт даних**: XLSX (Excel)
- **Табличні компоненти**: MUI X Data Grid
- **Збірка**: Vite

---

## Ролі користувачів та їх можливості

### Адміністратор (admin)
**Повний контроль над системою**

**Функціональність:**
- **Керування користувачами**:
  - Створення, редагування та видалення користувачів
  - Призначення ролей та підрозділів/відділів
  - Скидання паролів користувачів
  - Зміна імен користувачів
- **Керування структурою**:
  - Створення, редагування та видалення підрозділів
  - Створення, редагування та видалення відділів
- **Керування матеріальними засобами**:
  - Додавання нових об'єктів обліку
  - Редагування існуючих записів
  - Видалення записів
- **Конфігурація системи**:
  - Налаштування полів(колонок) таблиць
  - Зміна конфігурації відображення даних(полів(колонок))
- **Експорт даних**:
  - Експорт таблиці у форматі Excel
- **Доступ до всіх підрозділів та відділів**

### Складовщик підрозділу (unitStorekeeper)
**Керування матеріальними засобами призначеного підрозділу**

**Функціональність:**
- **Перегляд та керування запасами**:
  - Доступ лише до призначеного підрозділу
  - Додавання нових об'єктів обліку в підрозділ
  - Редагування існуючих записів підрозділу
  - Видалення записів підрозділу
- **Керування матеріальними засобами у підрозділі і відділах**:
  - Додавання нових об'єктів обліку
  - Редагування існуючих записів
  - Видалення записів
- **Робота з відділами**:
  - Перегляд усіх відділів підрозділу
  - Керування матеріальними засобами в підпорядкованих відділах
- **Експорт даних**:
  - Експорт даних свого підрозділу і відділів в Excel
- **Обмеження**:
  - Немає доступу до інших підрозділів
  - Не може керувати користувачами
  - Не може створювати/видаляти підрозділи або відділи

### Складовщик відділу (sectionStorekeeper)
**Керування матеріальними засобами призначеного відділу**

**Функціональність:**
- **Перегляд та керування запасами**:
  - Доступ лише до призначеного відділу
  - Додавання нових об'єктів обліку у відділ
  - Редагування існуючих записів відділу
  - Видалення записів відділу
- **Керування матеріальними засобами у відділі**:
  - Додавання нових об'єктів обліку
  - Редагування існуючих записів
  - Видалення записів
- **Експорт даних**:
  - Експорт даних свого відділу в Excel
- **Обмеження**:
  - Немає доступу до інших відділів або підрозділів
  - Не може керувати користувачами
  - Не може створювати/видаляти підрозділи або відділи

---

## Структура даних та зберігання

### Firebase Firestore Collections

#### Колекція "users" - Користувачі системи
```
{
  id: "user_id",
  email: "user@example.com",
  displayName: "Ім'я Користувача",
  role: "admin" | "unitStorekeeper" | "sectionStorekeeper",
  assignedUnitId: "unit_id", // Призначений підрозділ
  assignedSectionId: "section_id", // Призначений відділ
  authProvider: "password" | "google.com",
  mustChangePassword: true/false,
  createdAt: timestamp
}
```

#### Колекція "units" - Підрозділи
```
{
  id: "unit_id",
  name: "Назва підрозділу",
  createdAt: timestamp
}
```

#### Колекція "sections" - Структурні відділи
```
{
  id: "section_id",
  name: "Назва відділу",
  unitId: "unit_id", // Батьківський підрозділ
  createdAt: timestamp
}
```

#### Колекція "items" - Матеріальні засоби
```
{
  id: "item_id",
  
  // ОСНОВНІ ПОЛЯ (завжди відображаються)
  autoNumber: 1, // Порядковий № (генерується автоматично)
  name: "Найменування", // Назва матеріального засобу
  currentBalance: 0, // Кількість (поточний залишок)
  unitOfMeasure: "шт", // Од. виміру (шт, кг, л, упак, компл)
  
  // СИСТЕМНІ ПОЛЯ
  unitId: "unit_id", // Підрозділ
  sectionId: "section_id", // Відділ (опціонально)
  
  // ДОДАТКОВІ ПОЛЯ (увімкнуються через адмін-панель)
  factoryNumber: "Заводський номер", // За замовчуванням вимкнено
  invNumber: "Інвентарний номер", // За замовчуванням вимкнено
  description: "Додаткова інформація", // За замовчуванням вимкнено
  
  // КАСТОМНІ ПОЛЯ (можуть бути додані адміністратором)
  // Адмін може додавати поля таких типів:
  // - text: текстові поля
  // - number: числові поля
  // - date: поля дати
  // - select: списки вибору
  // - textarea: великі текстові поля
  // - boolean: поля Так/Ні
  
  createdAt: timestamp
}
```

#### Колекція "fieldConfigurations" - Налаштування полів інтерфейсу
```
{
  id: "config_id",
  userId: "user_id",
  role: "admin",
  fields: [
    {
      id: "field_id",
      name: "Назва поля",
      type: "text" | "number" | "date" | "select",
      enabled: true/false,
      required: true/false,
      editable: true/false,
      width: 150,
      order: 0
    }
  ],
  createdAt: timestamp
}

---

## Система авторизації

### Методи входу
1. **Email + Пароль** - реєстрація потім вхід до облікового запису
2. **Google OAuth** - вхід через Google акаунт

### Безпека
- Автоматичне створення профілю користувача в Firestore
- Рольова модель доступу з обмеженнями на рівні бази даних
- Примусова зміна пароля якщо пароль скинув адміністратор для користувачів які забули пароль
- Сесійне керування через Firebase Authentication

---

## Основні функції системи

### Керування матеріальними засобами
- **Додавання об'єктів**: Форма з конфігурованими полями
- **Редагування**: Безпосереднє редагування в таблиці або через модальні вікна
- **Видалення**: З підтвердженням операції
- **Пошук та фільтрація**: Миттєвий пошук по всіх полях
- **Сортування**: По будь-яких стовпцях з збереженням структури груп

### Експорт даних
- **Конфігуровані звіти**: Експорт вибраних полів
- **Форматування**: Автоматичне форматування даних за типами

### Конфігурація системи
- **Налаштування полів**: Додавання/видалення стовпців (колонок) таблиць
- **Зміна порядку**: Перестановка полів
- **Валідація**: Обов'язкові та опціональні поля
- **Типи даних**: Текст, числа, дати, списки вибору

### Адаптивний інтерфейс
- **Мобільна підтримка**: Повна функціональність на мобільних пристроях
- **Темна/світла тема**: Автоматичне визначення налаштувань системи
- **Зручна навігація**: Бокове меню з деревом структури організації
- **Швидкі дії**: Контекстні меню та сполучення клавіш

---

## Архітектура додатку

### Компонентна архітектура
```
src/
├── components/          # Переісподається UI компоненти
├── pages/              # Сторінки додатку
├── hooks/              # Кастомні React хуки
├── context/            # React контексти (Auth, тощо)
├── utils/              # Допоміжні функції
├── firebase/           # Конфігурація Firebase
└── ui/                 # Основні UI компоненти (Layout)
```

### Управління станом
- **React Context** - глобальний стан авторизації
- **Custom Hooks** - бізнес-логіка та API інтеракції
- **Firebase Realtime** - автоматична синхронізація даних

## Розгортання та запуск

### Вимоги
- Node.js 18+
- npm або yarn
- Firebase проект з налаштованими сервісами

### Firebase налаштування
1. **Firestore Database** - створити колекції за схемою вище
2. **Authentication** - увімкнути Email/Password та Google провайдери
3. **Security Rules** - налаштувати правила безпеки за ролями

---

## Ліцензія

MIT License - детальніше у файлі `LICENSE`

---

**Проект демонструє сучасні підходи до розробки SPA додатків на React з використанням Firebase як backend-сервісу.**